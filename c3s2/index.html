<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Intro to Ruby 2</title>

  

  <meta name="viewport" content="width=device-width">
  <!-- Twitter bootstrap basic styles -->
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="../bootstrap/css/bootstrap-responsive.css">



  <!-- syntax highlighting CSS -->
  <link rel="stylesheet" href="../css/syntax.css">
  <!-- Google webfont link -->
<link href='http://fonts.googleapis.com/css?family=Arvo:700|Titillium+Web:900' rel='stylesheet' type='text/css'>


  <!-- Custom CSS -->
  <link rel="stylesheet" href="../css/main.css">

  <script src="../assets/jquery-1.10.0.js"></script>

  <script type="text/javascript" src='../bootstrap/js/bootstrap.js'></script>
  <script type="text/javascript" src='../assets/custom.js'></script>

<body class="">

  <div class="container">

    <div class="page-header">
  <h1>Intro to Ruby 2 <small>Adding logic to app</small></h1>
</div>

<div class="tabbable tabs-left">
<ul class="nav nav-tabs" id="myTab">
	
		
		<li class="active"><a href="#1_conditionals.md" data-toggle="tab">If statements and comparisons </a></li>
		
	
		
		<li><a href="#2_post_requests.md" data-toggle="tab">Post requests revisited </a></li>
		
	
		
		<li><a href="#3_deploying.md" data-toggle="tab">App deployment </a></li>
		
	
		
		<li><a href="#4_templates.md" data-toggle="tab">HTML templates </a></li>
		
	
		
		<li><a href="#5_boolean_ops.md" data-toggle="tab">Logical operations </a></li>
		
	
		
		<li><a href="#6_truthy_falsey.md" data-toggle="tab">Truthy and falsey </a></li>
		
	
		
		<li><a href="#7_homework.md" data-toggle="tab">Homework </a></li>
		
	
</ul>

<div class="tab-content">

	
	<div class="tab-pane active" id="1_conditionals.md">
	

		<h2>If statements and comparisons</h2>
		<p>So far we’ve just used ruby to evaluate simple expressions. Coding becomes a lot more interesting when you can use your code for simple logic tasks:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span>
  <span class="s2">&quot;Here&#39;s the vodka you wanted.&quot;</span>
<span class="k">else</span>
  <span class="s2">&quot;Move along please.&quot;</span>
<span class="k">end</span></code></pre></div>

<p>The code within the <code>if</code> block will only be run if the statement is true. If the statement is false, the code in the <code>else</code> block will be run instead.</p>

<h3 id="comparisons">Comparisons</h3>

<p>There are some basic comparisons that will be useful when using if statments</p>

<table>
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>==</code></td>
      <td>Is equal to</td>
    </tr>
    <tr>
      <td><code>&gt;</code></td>
      <td>Greater than</td>
    </tr>
    <tr>
      <td><code>&lt;</code></td>
      <td>Less than</td>
    </tr>
    <tr>
      <td><code>&gt;=</code></td>
      <td>Greater than or equal to</td>
    </tr>
    <tr>
      <td><code>&lt;=</code></td>
      <td>Less than or equal to</td>
    </tr>
    <tr>
      <td><code>!=</code></td>
      <td>Not equal to</td>
    </tr>
  </tbody>
</table>

<p>Comparisons evaluate to <code>true</code> or <code>false</code>.</p>

<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
Working with a partner, try out each of these comparisons in irb:</p>

  <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="mi">4</span> <span class="o">==</span> <span class="mi">5</span>

<span class="s1">&#39;five&#39;</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">5</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">a</span> <span class="o">&lt;=</span> <span class="mi">20</span>

<span class="kp">true</span> <span class="o">&gt;=</span> <span class="kp">false</span>

<span class="s1">&#39;aardvark&#39;</span> <span class="o">&lt;</span> <span class="s1">&#39;anteater&#39;</span>

<span class="s1">&#39;we&#39;</span> <span class="o">!=</span> <span class="s1">&#39;done yet&#39;</span></code></pre></div>

</div>


	</div>

	
	<div class="tab-pane " id="2_post_requests.md">
	

		<h2>Post requests revisited</h2>
		<p>Last time we looked at responding to <code>get</code> requests:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">get</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="s2">&quot;Hello there!&quot;</span>
<span class="k">end</span></code></pre></div>

<p>As you know from the Introduction to Web Programming course, <code>GET</code> is only one of several types of web requests. Another is the <code>POST</code> request, which is commonly used for submitting data from a web form.</p>

<p>Suppose we have the following HTML form:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span> <span class="na">action=</span><span class="s">&#39;/&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&#39;text&#39;</span> <span class="na">name=</span><span class="s">&#39;user_name&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&#39;text&#39;</span> <span class="na">name=</span><span class="s">&#39;user_age&#39;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&#39;submit&#39;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></div>

<p>The form will submit via a <code>POST</code> request to the root url, <code>/</code>. We can respond to this using the following sinatra block:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">post</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="nb">name</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:user_name</span><span class="o">]</span>
  <span class="n">age</span>  <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:user_age</span><span class="o">]</span>

  <span class="s2">&quot;Hello </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">. You are </span><span class="si">#{</span><span class="n">age</span><span class="si">}</span><span class="s2"> years old.&quot;</span>
<span class="k">end</span></code></pre></div>

<p>Note that, like the words matched in the url, the value of the <code>user_name</code> field is made available in the <code>params</code> hash. (If you want to have a look at the params hash you could put a <code>raise params.inspect</code> at the beginning of the method.)</p>

<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
1. <strong>Fork</strong> the repository <a href="https://github.com/code61/sinatra_c3s2">https://github.com/code61/sinatra_c3s2</a> (using the fork button on the top right of the repository page on github).
2. Clone down your fork of the repository onto your laptop.
3. Open the <code>sinatra_c3s2</code> project in Sublime Text and have a read through <code>app.rb</code>. See if you can predict what the app will do.
4. Run the app from the command line (<code>ruby app.rb</code>), to see if you were right.
5. (Optional) Add the line <code>raise params.inspect</code> right at the top of the post block. Restart the app and see what happens. When you’ve had a look, make sure you remove the line again!</p>
</div>

	</div>

	
	<div class="tab-pane " id="3_deploying.md">
	

		<h2>App deployment</h2>
		<p>We’re now going to look at how to get the Sinatra app online, a process known as <em>deployment</em>. We’re going to deploy the app to <a href="heroku.com">Heroku</a>, which offers easy hosting for a variety of web frameworks - all you need to do is push up a git repository, and they take care of everything else!</p>

<p>You should have set up a heroku account and uploaded your ssh keys for homework.</p>

<h3 id="preparation">Preparation</h3>

<p>There are a few files <code>sinatra_c3s2</code> that we need if we’re going to deploy the app to heroku:</p>

<ul>
  <li>config.ru</li>
  <li>Gemfile</li>
</ul>

<p><code>config.ru</code> contains the lines</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;./app.rb&#39;</span>
<span class="n">run</span> <span class="no">Sinatra</span><span class="o">::</span><span class="no">Application</span></code></pre></div>

<p>These lines are to tell Heroku which file to find your application (<code>app.rb</code>) and how to run it (using Sinatra).</p>

<p>The <code>Gemfile</code> is a way of specifying which gems your project uses. Heroku needs to know this so it knows which libraries it needs to run your app. The <code>Gemfile</code> is also really helpful way of remembering yourself which gems you need and is invaluable when working with others.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Gemfile</span>

<span class="n">source</span> <span class="s1">&#39;https://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;sinatra&#39;</span></code></pre></div>

<p>Along with rubygems, ruby has a tool called bundler. Bundler helps you manage your ruby gems. If you run <code>bundle install</code> it will look in the <code>Gemfile</code> and install any gems that you don’t already have.</p>

<pre><code>$ bundle install
</code></pre>

<p>will also create a <code>Gemfile.lock</code> which specifies the exact version of the gems (e.g. the sinatra library) that you are using. This means that heroku (and anyone else you’re collaborating with using git) now knows exactly which gems you are using and can pick to use the same versions. You need to check this in to your repository:</p>

<pre><code>$ git add --all
$ git commit -m "Added Gemfile.lock"
</code></pre>

<h3 id="deploying-to-heroku">Deploying to Heroku</h3>

<p>Once your app is prepared, the first thing you need to do is create a new empty heroku application. To do this you use the <code>heroku create</code> command:</p>

<pre><code>$ heroku create
Creating arcane-gorge-2129... done, stack is cedar
http://arcane-gorge-2129.herokuapp.com/ | git@heroku.com:arcane-gorge-2129.git
Git remote heroku added
</code></pre>

<p>You’ll see that it created an app for you. In my case the app is called <code>arcane-gorge-2129</code> and can be found at http://arcane-gorge-2129.herokuapp.com. It also added a git remote for you. </p>

<pre><code>$ git remote -v
heroku  git@heroku.com:arcane-gorge-2129.git (fetch)
heroku  git@heroku.com:arcane-gorge-2129.git (push)
origin  git@github.com:code61/sinatra_project_1.git (fetch)
origin  git@github.com:code61/sinatra_project_1.git (push)
</code></pre>

<!-- Put a bit about git remotes here -->

<h3 id="deploying">Deploying</h3>

<p>You deploy your repository by pushing to this remote. Heroku will serve whatever is in the <code>master</code> branch. Here we push the <code>master</code> branch up to the <code>heroku</code> remote:</p>

<pre><code>$ git push heroku master
Counting objects: 11, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (11/11), 1.08 KiB, done.
Total 11 (delta 1), reused 0 (delta 0)

-----&gt; Ruby/Rack app detected
-----&gt; Using Ruby version: ruby-1.9.3
-----&gt; Installing dependencies using Bundler version 1.3.2
       Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin --deployment
       Fetching gem metadata from https://rubygems.org/..........
       Fetching gem metadata from https://rubygems.org/..
       Installing rack (1.5.2)
       Installing rack-protection (1.5.0)
       Installing tilt (1.4.1)
       Installing sinatra (1.4.3)
       Using bundler (1.3.2)
       Your bundle is complete! It was installed into ./vendor/bundle
       Cleaning up the bundler cache.
-----&gt; Discovering process types
       Procfile declares types     -&gt; (none)
       Default types for Ruby/Rack -&gt; console, rake, web

-----&gt; Compiled slug size: 25.0MB
-----&gt; Launching... done, v3
       http://arcane-gorge-2129.herokuapp.com deployed to Heroku

To git@heroku.com:arcane-gorge-2129.git
 * [new branch]      master -&gt; master
</code></pre>

<p>After you push, heroku automatically updates the app and launches it for you. You can now see the app by visiting the url (in this case http://arcane-gorge-2129.herokuapp.com).</p>

<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
Deploy your <code>sinatra_c3s2</code> app to Heroku:</p>

  <ol>
    <li>
      <p>Install your bundle to get a <code>Gemfile.lock</code>. In your <code>sintara_c3s2</code> directory run:</p>

      <pre><code> $ bundle install
</code></pre>
    </li>
    <li>
      <p>Add your work (and new <code>Gemfile.lock</code>) to your repository:</p>

      <pre><code> $ git add --all
 $ git commit -m 'Added Gemfile.lock'
</code></pre>
    </li>
    <li>
      <p>Create a new heroku app:</p>

      <pre><code> $ heroku create
</code></pre>
    </li>
    <li>
      <p>Push your work to Heroku</p>

      <pre><code> $ git push heroku master
</code></pre>

      <p>(for subsequent updates you should be ok with just <code>git push heroku</code>).</p>
    </li>
    <li>
      <p>Visit the url that heroku provide, to check that your app is running!</p>
    </li>
  </ol>
</div>

	</div>

	
	<div class="tab-pane " id="4_templates.md">
	

		<h2>HTML templates</h2>
		<p>So far we’ve just returned text to the browser. It would be better if we could return proper HTML pages. We can do this by using <strong>HTML templates</strong>.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># in app.rb</span>

<span class="nb">require</span> <span class="s1">&#39;sinatra&#39;</span>

<span class="n">get</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:form</span>
<span class="k">end</span></code></pre></div>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- in views/form.erb --&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Barman 2.0<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;container&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span> <span class="na">action=</span><span class="s">&#39;/&#39;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&#39;text&#39;</span> <span class="na">name=</span><span class="s">&#39;user_name&#39;</span> <span class="na">placeholder=</span><span class="s">&#39;name&#39;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&#39;text&#39;</span> <span class="na">name=</span><span class="s">&#39;user_age&#39;</span> <span class="na">placeholder=</span><span class="s">&#39;age&#39;</span><span class="nt">&gt;</span>

      <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&#39;submit&#39;</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/form&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div>

<p>The line <code>erb :form</code> tells sinatra to look for a file called <code>form.erb</code> in a folder called <code>views</code>. It then processes that file using the <code>erb</code> (embedded ruby) templating language and returns the result to the user.</p>

<p>The <code>form.erb</code> above isn’t very interesting: it is just a static template and doesn’t have any ruby embedded in it. Let’s look at a slightly better example:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># in app.rb</span>

<span class="n">get</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:form</span>

<span class="n">post</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="vi">@name</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:user_name</span><span class="o">]</span>
  <span class="vi">@age</span>  <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:user_age</span><span class="o">]</span>

  <span class="n">erb</span> <span class="ss">:welcome</span>
<span class="k">end</span></code></pre></div>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- in views/welcome.erb  --&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>hello<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Hello <span class="err">&lt;</span>%= @name %&gt;. You are <span class="err">&lt;</span>%= @age %&gt; years old.<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div>

<p>The important bits are:</p>

<ul>
  <li>In <code>app.rb</code> we assign <code>params[:name]</code> to a special type of variable <code>@name</code>. The special type of variable is an <em>instance variable</em> which <strong>has to begin with a single <code>@</code></strong>.</li>
  <li>We use the instance variable in the <code>views/greet.erb</code> inside a special erb tag <code>&lt;%= ... %&gt;</code>. The erb templater looks for these tags and interprets the inside as ruby.</li>
</ul>

<p>Sinatra emphasises <em>convention</em> over <em>configuration</em>: rather than specifying the exact place to find the template, you just give the name and Sinatra ‘knows’ where to look. This means you have to write less code in the long run, but also that you have to know the conventions before you start.</p>

<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">Sinatra template summary</h3>
  </div>
  <div class="panel-body">
   <ol>
      <li>You call a template with the line <code>erb :template_name</code>.</li>
      <li>For this to work, you will need a template called <code>template_name.erb</code> in the <code>views</code> folder.</li>
      <li>Instance variables (ones that start with <code>@</code>) will be shared with the template.</li>
      <li>You use these shared instance variables in the template by putting them inside an erb tag: <code>&lt;%= @my_variable &gt;</code> </li>
    </ol> 
  </div>
</div>

<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
1. Uncomment the bottom part of <code>sinatra_c3s2/app.rb</code> and comment out the top two blocks.
2. Restart your server and check you can see the new page <code>h1</code> sections.
3. Add twitter bootstrap to your templates, linking to the online hosted version as described on the <a href="http://getbootstrap.com/getting-started/#download-cdn">Bootstrap CDN</a> section of the bootstrap docs.
4. Add a <code>div class='container'</code> around the page content, and add some styling to the <code>form</code> (see <a href="http://getbootstrap.com/css/#forms">here</a>).
5. Add and commit your changes to your local git repo.
6. Deploy your changes:</p>

  <pre><code>    git push heroku
</code></pre>

</div>

	</div>

	
	<div class="tab-pane " id="5_boolean_ops.md">
	

		<h2>Logical operations</h2>
		<p>It’s often useful to combine various conditions:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">12</span> <span class="o">||</span> <span class="n">height</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">.</span><span class="mi">2</span>
	<span class="s2">&quot;You are allowed on the ride.&quot;</span>
<span class="k">else</span>
	 <span class="s2">&quot;Try a different helter-skelter. There&#39;s nothing for you here.&quot;</span>
<span class="k">end</span></code></pre></div>

<p>It the above snippet of code the <code>||</code> means or. If the person is under 12 or is smaller than 1.2m they are allowed on the ride.</p>

<h3 id="logical-operations">Logical operations</h3>

<p>Ruby has three ways of combining conditions:</p>

<h4 id="and-">and (<code>&amp;&amp;</code>)</h4>

<p>If you use an <code>&amp;&amp;</code> the output is true only if both inputs are true. You can write this in terms of a <em>truth table</em>:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="kp">false</span> <span class="o">&amp;&amp;</span> <span class="kp">false</span> <span class="c1">#=&gt; false</span>
<span class="kp">false</span> <span class="o">&amp;&amp;</span> <span class="kp">true</span>  <span class="c1">#=&gt; false</span>
<span class="kp">true</span>  <span class="o">&amp;&amp;</span> <span class="kp">false</span> <span class="c1">#=&gt; false</span>
<span class="kp">true</span>  <span class="o">&amp;&amp;</span> <span class="kp">true</span>  <span class="c1">#=&gt; true</span></code></pre></div>

<h4 id="or-">or (<code>||</code>)</h4>

<p>If you use the <code>||</code> the output is true if at least one of the inputs is true. <code>||</code> means one or the other <strong>or both</strong>:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="kp">false</span> <span class="o">||</span> <span class="kp">false</span> <span class="c1">#=&gt; false</span>
<span class="kp">false</span> <span class="o">||</span> <span class="kp">true</span>  <span class="c1">#=&gt; true</span>
<span class="kp">true</span>  <span class="o">||</span> <span class="kp">false</span> <span class="c1">#=&gt; true</span>
<span class="kp">true</span>  <span class="o">||</span> <span class="kp">true</span>  <span class="c1">#=&gt; true</span></code></pre></div>

<h3 id="not-">not (<code>!</code>)</h3>

<p>The <code>!</code> is not. It is a quick way of reversing the truth of the condition:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">!</span><span class="kp">false</span> <span class="c1">#=&gt; true</span>
<span class="o">!</span><span class="kp">true</span>  <span class="c1">#=&gt; false</span></code></pre></div>

<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
1. Working with a partner, see if you can guess what the following expressions evaluate to. Test in <code>irb</code> to see if you’re right.</p>

  <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="mi">3</span> <span class="o">&gt;</span> <span class="mi">4</span>

<span class="mi">1</span><span class="o">==</span><span class="mi">1</span> <span class="o">||</span> <span class="mi">10</span> <span class="o">==</span><span class="mi">9</span>

<span class="o">!</span><span class="p">(</span><span class="mi">5</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">)</span>

<span class="p">(</span><span class="mi">1</span><span class="o">&lt;=</span><span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="mi">3</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="mi">3</span> <span class="o">&lt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;ham&quot;</span><span class="p">)</span></code></pre></div>

</div>

	</div>

	
	<div class="tab-pane " id="6_truthy_falsey.md">
	

		<h2>Truthy and falsey</h2>
		<p>In the last exercise you found out something interesting:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="kp">true</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;ham&quot;</span> <span class="c1">#=&gt; &quot;ham&quot;</span></code></pre></div>

<p>Which is a bit weird. There are actually two things going on here:
1. The string <code>ham</code> is considered to be <code>true</code>
2. The overall statement evaluates to the last expression in it</p>

<h3 id="truthy-and-falsey">Truthy and falsey</h3>

<p>In ruby there are only two values that are considered false: <code>false</code> and <code>nil</code>. We say that <code>false</code> and <code>nil</code> are <em>falsey</em>.</p>

<p>Everything else is considered to be true. We say that all other objects are <em>truthy</em>.</p>

<p>What we mean by ‘considered to be true’ is that if that value is used as a conditional in an <code>if</code> statement then the if code runs:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="mi">5</span>
	<span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span>
	<span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">end</span>

<span class="n">x</span> <span class="c1">#=&gt; 1</span></code></pre></div>

<p>In the above block of code, as <code>5</code> is truthy, the variable <code>x</code> is set to <code>1</code>.</p>

<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
The bar is trialling a new initiative: Tuesdays is ladies night at the pub - no men allowed and all drinks are 2-4-1! They want you to update Bouncer 2.0 appropriately.</p>

  <ol>
    <li>Add select boxes for sex and day on the form.</li>
    <li>Add new templates to be shown on ladies night to (a) turn away a customer if he is male (b) give them an extra drink if they are female.</li>
    <li>Add the required logic to <code>app.rb</code> to make it all work.</li>
  </ol>

</div>

	</div>

	
	<div class="tab-pane " id="7_homework.md">
	

		<h2>Homework</h2>
		<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
1. Finish the final exercise from class. Spend a bit of time trying to make the app look more presentable and &#8216;bouncer-like&#8217;.
2. Do the <a href="http://www.codecademy.com/tracks/ruby">Codecademy Ruby track</a> Sections 3 and 4.</p>
</div>

<h3 id="extension">Extension</h3>

<div class="exercise alert alert-info">
  <p><strong>Task:</strong> 
Change your sinatra app into something more interesting:</p>

  <ul>
    <li>Add more options to the form.</li>
    <li>Make the logic in the views more complicated, so that you&#8217;re using a few boolean operations.</li>
    <li>Change your app into a horoscope provider/career adviser/which-star-wars-character-are-you machine.</li>
    <li>Make it look nice, deploy it and show your friends.</li>
  </ul>
</div>

	</div>

</div>

</div>




  </div> <!-- /container -->


</body>
</html>
